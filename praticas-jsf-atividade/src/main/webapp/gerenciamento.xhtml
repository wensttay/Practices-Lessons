<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>Iniciando com JSF</title>
    </h:head>

    <h:body>
        <ui:composition template="template/default.xhtml">

            <ui:define name="menu">
                <nav>
                    <ul class="nav nav-pills">
                        <li role="presentation" ><a href="index.xhtml">Cadastro</a></li>
                        <li role="presentation" class="active"><a href="#">Gerenciamento</a></li>
                    </ul>
                </nav>
            </ui:define>

            <ui:define name="content">
                <h:form>
                    <fieldset>

                        <!-- Form Name -->
                        <legend>Clientes</legend>

                        <div class="panel panel-default">
                            <div class="panel-body">

                                
                                <h:commandLink id="btn-editar" class="btn btn-default glyphicon glyphicon-pencil" ></h:commandLink>
                                <h:commandLink id="btn-deletar" action="#{clientesMB.remove()}" class="btn btn-danger glyphicon glyphicon-minus" ></h:commandLink>
                                <h:commandLink id="btn-info" action="showClient" class="btn btn-primary glyphicon glyphicon-user" ></h:commandLink>

                            </div>

                            <p:dataTable styleClass="table table-bordered table-hover table-selectable"
                                         value="#{clientesMB.clientes}" var="cliente" 
                                         selectionMode="single" 
                                         selection="#{clientesMB.selecionado}" 
                                         rowKey="#{cliente}">

                                <p:ajax event="rowSelect" listener="#{clientesMB.selecionar}"/>

                                <p:column headerText="Name">
                                    <h:outputText value="#{cliente.nome}" />
                                </p:column>

                                <p:column headerText="Email">
                                    <h:outputText value="#{cliente.email}" />
                                </p:column>

                                <p:column headerText="CPF">
                                    <h:outputText value="#{cliente.cpf}" />
                                </p:column>

                            </p:dataTable>
                        </div>
                    </fieldset>
                </h:form>
            </ui:define>

        </ui:composition>   
    </h:body>

</html>